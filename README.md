# JPA

1. JPA (Java Persistence API) это спецификация Java EE и Java SE, описывающая систему управления сохранением java объектов в таблицы реляционных баз данных в удобном виде. Сама Java не содержит реализации JPA, однако есть существует много реализаций данной спецификации от разных компаний (открытых и нет). Это не единственный способ сохранения java объектов в базы данных (ORM систем), но один из самых популярных в Java мире.

2. JPA - это спецификация для доступа, хранения и управления данными между объектами Java и реляционной базой данных. Поскольку определение говорит о его API, это только спецификация. Для API нет реализации. JPA определяет набор правил и рекомендаций для разработки интерфейсов, которые следуют стандарту. Прямо к сути: JPA - это всего лишь руководство по реализации реляционного сопоставления объектов (ORM), и для реализации не существует базового кода. Где, как, Hibernate - это фактическая реализация руководящих принципов JPA. Когда hibernate реализует спецификацию JPA, это будет сертифицировано группой JPA после соблюдения всех стандартов, упомянутых в спецификации. Например, руководящие принципы JPA предоставят информацию об обязательных и дополнительных функциях, которые будут реализованы как часть реализации JPA.

Поддержка сохранности данных, предоставляемая JPA, покрывает области:

непосредственно API, заданный в пакете javax.persistence;
платформо-независимый объектно-ориентированный язык запросов Java Persistence Query Language;
метаинформация, описывающая связи между объектами.
Генерация DDL для сущностей

#Spring Data Jpa или Jpa?

Цель Spring Data - упростить работу с базами данных разных типов - от традиционных реляционных баз данных до баз данных NoSQL. Spring Данные поддерживают JPA через подпроект Spring Data JPA.

Чтобы написать программу, использующую JPA, вам потребуется хотя бы реализация JPA, например, Hibernate.

Если вы используете Spring Framework для своего приложения, скорее всего, вы захотите использовать Spring Data JPA вместе с Hibernate.

# Entity

1. Entity это легковесный хранимый объект бизнес логики (persistent domain object). Основная программная сущность это entity класс, который так же может использовать дополнительные классы, который могут использоваться как вспомогательные классы или для сохранения состояния еntity.

2. Entity (Сущность) — POJO-класс, связанный с БД с помощью аннотации (@Entity) или через XML. К такому классу предъявляются следующие требования:

Должен иметь пустой конструктор (public или protected)
Не может быть вложенным, интерфейсом или enum
Не может быть final и не может содержать final-полей/свойств
Должен содержать хотя бы одно @Id-поле
При этом entity может:

Содержать непустые конструкторы
Наследоваться и быть наследованным
Содержать другие методы и реализовывать интерфейсы
Entities могут быть связаны друг с другом (один-к-одному, один-ко-многим, многие-к-одному и многие-ко-многим).

# ORM

ORM (англ. Object-Relational Mapping, рус. объектно-реляционное отображение, или преобразование) — технология программирования, которая связывает базы данных с концепциями объектно-ориентированных языков программирования, создавая «виртуальную объектную базу данных». Существуют как проприетарные, так и свободные реализации этой технологии.

Традиционно было много решений Java ORM:

Hibernate
TopLink
JDO

Каждая реализация определяет свое собственное определение отображения или клиентский API. Экспертная группа JPA собрала лучшие из всех этих инструментов, и поэтому они создали стандарт Java Persistence API.

# В чем её отличие JPA от Hibernate? 

Hibernate одна из самых популярных открытых реализаций последней версии спецификации (JPA 2.1). Даже скорее самая популярная, почти стандарт де-факто. То есть JPA только описывает правила и API, а Hibernate реализует эти описания, впрочем у Hibernate (как и у многих других реализаций JPA) есть дополнительные возможности, не описанные в JPA (и не переносимые на другие реализации JPA).

JPA - это танец, Hibernate - танцор.

# Можно ли использовать JPA c noSQl базами?

Вообще, спецификация JPA говорит только о отображении java объектов в таблицы реляционных баз данных, но при этом существует ряд реализаций данного стандарта для noSql баз данных: Kundera, DataNucleus, ObjectDB и ряд других. Естественно, при это не все специфичные для реляционных баз данных особенности спецификации переносятся при этом на nosql базы полностью. 

# В чем её отличие JPA от JDO? 

JPA (Java Persistence API) и Java Data Objects (JDO) две спецификации сохранения java объектов в базах данных. Если JPA сконцентрирована только на реляционных базах, то JDO более общая спецификация которая описывает ORM для любых возможных баз и хранилищ. В принципе можно рассматривать JPA как специализированную на релятивистских баз часть спецификации JDO, даже при том что API этих двух спецификаций не полностью совпадает. 

# Может ли Entity класс наследоваться от не Entity классов (non-entity classes)?

Может

# Может ли Entity класс наследоваться от других Entity классов? 

Может

# Может ли не Entity класс наследоваться от Entity класса? 

Может

# Может ли Entity быть абстрактным классом? 

Может, при этом он сохраняет все свойства Entity, за исключением того что его нельзя непосредственно инициализировать.

# Какие требования JPA к Entity классам вы можете перечислить (не менее шести требований)? 

1) Entity класс должен быть отмечен аннотацией Entity или описан в XML файле конфигурации JPA,
2) Entity класс должен содержать public или protected конструктор без аргументов (он также может иметь конструкторы с аргументами), 
3) Entity класс должен быть классом верхнего уровня (top-level class),
4) Entity класс не может быть enum или интерфейсом,
5) Entity класс не может быть финальным классом (final class), 
6) Entity класс не может содержать финальные поля или методы, если они участвуют в маппинге (persistent final methods or persistent final instance variables),
7) Если объект Entity класса будет передаваться по значению как отдельный объект (detached object), например через удаленный интерфейс (through a remote interface), он так же должен реализовывать Serializable интерфейс, 
8) Поля Entity класс должны быть напрямую доступны только методам самого Entity класса и не должны быть напрямую доступны другим классам, использующим этот Entity. Такие классы должны обращаться только к методам (getter/setter методам или другим методам бизнес-логики в Entity классе),
9) Enity класс должен содержать первичный ключ, то есть атрибут или группу атрибутов которые уникально определяют запись этого Enity класса в базе данных.

# Какие типы данных допустимы в атрибутах Entity класса (полях или свойствах)? 

Допустимые типы атрибутов у Entity классов: 
1. примитивные типы и их обертки Java,
2. строки, 
3. любые сериализуемые типы Java (реализующие Serializable интерфейс),
4. enums; 
5. entity types; 
6. embeddable классы
7. и коллекции типов 1-6
